# 🚨 게임 서비스 인시던트 대응 체계

## 개요
모바일 게임 서비스의 신뢰성을 보장하기 위한 체계적인 인시던트 대응 체계입니다. 빠른 감지, 신속 복구, 학습을 통한 지속적 개선이 핵심 목표입니다.

## 🎯 핵심 원칙

### 1. 블레임리스 문화
- **사람이 아닌 시스템을 탓한다**: 개인을 비난하지 않고 시스템과 프로세스의 개선에 집중
- **학습 기회로 활용**: 모든 인시던트는 개선의 기회로 인식
- **투명한 공유**: 인시던트 정보를 팀 전체와 공유하여 학습

### 2. 빠른 대응
- **MTTD (Mean Time To Detection)**: 인시던트 발생부터 감지까지의 시간 최소화
- **MTTR (Mean Time To Resolution)**: 인시던트 감지부터 해결까지의 시간 최소화
- **자동화 우선**: 반복적인 작업은 자동화하여 대응 속도 향상

### 3. 체계적 접근
- **표준화된 절차**: 모든 인시던트에 일관된 대응 절차 적용
- **역할 기반 대응**: 명확한 역할과 책임 분담
- **문서화**: 모든 대응 과정을 문서화하여 지식 축적

## 🏗️ 인시던트 대응 체계 구조

```
인시던트 발생
    ↓
자동/수동 감지
    ↓
인시던트 선언
    ↓
대응팀 구성
    ↓
상황 파악 및 진단
    ↓
복구 작업 실행
    ↓
복구 검증
    ↓
인시던트 해산
    ↓
포스트모템
    ↓
개선 계획 수립
    ↓
실행 및 검증
```

## 📋 핵심 문서

### 1. 인시던트 관리 정책 (`incident-management-policy.yaml`)
- **심각도 정의**: Sev0(전면 중단) ~ Sev3(성능 저하)
- **역할 정의**: IC, Operations Lead, Communications Lead, Liaison, Scribe
- **커뮤니케이션 정책**: 내부/외부 커뮤니케이션 체계
- **에스컬레이션 정책**: 자동/수동 에스컬레이션 규칙

### 2. 인시던트 대응 플레이북 (`incident-response-playbook.md`)
- **즉시 행동 가이드**: 인시던트 발생 시 0-30분 내 행동
- **단계별 대응 절차**: 상황 파악, 진단, 복구, 검증
- **역할별 실행 계획**: 각 역할의 구체적인 작업 내용
- **에스컬레이션 절차**: 자동/수동 에스컬레이션 방법

### 3. 포스트모템 템플릿 (`postmortem-template.md`)
- **표준화된 형식**: 모든 포스트모템이 일관된 형식으로 작성
- **근본 원인 분석**: 5 Why 분석, Fishbone 다이어그램 등
- **교훈 및 개선점**: 잘된 점, 개선점, 놀라운 점 정리
- **액션 아이템**: 단기/중기/장기 개선 계획

### 4. 온콜 에스컬레이션 정책 (`oncall-escalation-policy.yaml`)
- **온콜 로테이션**: 주간 단위 온콜 교대 체계
- **4단계 에스컬레이션**: 1차(온콜) → 4차(경영진)
- **자동화된 에스컬레이션**: 시간 기반 자동 에스컬레이션
- **성과 관리**: 온콜 품질 지표 및 보상 체계

## 🚨 인시던트 심각도 체계

### Sev0: 전면 중단 (Critical)
- **영향**: 게임 서비스 전체 사용 불가능
- **대응 시간**: 즉시
- **에스컬레이션**: 즉시 CTO 및 모든 팀 리드
- **예시**: 게임 서버 전체 다운, 데이터베이스 연결 완전 차단

### Sev1: 핵심 기능 장애 (High)
- **영향**: 게임 플레이에 필수적인 기능 장애
- **대응 시간**: 5분 내
- **에스컬레이션**: 15분 미해결 시 팀 리드
- **예시**: 게임 매칭 시스템 장애, 결제 시스템 오류

### Sev2: 부분 기능 장애 (Medium)
- **영향**: 게임 플레이에 영향이 있지만 우회 가능
- **대응 시간**: 15분 내
- **에스컬레이션**: 1시간 미해결 시 팀 리드
- **예시**: 친구 목록 로딩 실패, 리더보드 표시 오류

### Sev3: 성능 저하 (Low)
- **영향**: 게임 플레이 가능하지만 성능 저하
- **대응 시간**: 30분 내
- **에스컬레이션**: 4시간 미해결 시 팀 리드
- **예시**: 게임 로딩 시간 증가, 응답 지연 발생

## 👥 인시던트 대응 역할

### Incident Commander (IC)
- **책임**: 인시던트 대응 총괄 및 의사결정
- **주요 업무**:
  - 인시던트 상황 파악 및 우선순위 결정
  - 대응팀 구성 및 역할 분담
  - 스테이크홀더와의 커뮤니케이션
  - 인시던트 해결 후 팀 해산

### Operations Lead
- **책임**: 기술적 문제 해결 및 복구 작업 총괄
- **주요 업무**:
  - 기술적 문제 진단 및 해결 방안 수립
  - 복구 작업 계획 및 실행
  - 기술팀과의 협업 조율
  - 복구 진행 상황 보고

### Communications Lead
- **책임**: 내부/외부 커뮤니케이션 및 상태 업데이트
- **주요 업무**:
  - 인시던트 상태 페이지 업데이트
  - 고객 지원팀과의 연락
  - 내부 팀 간 정보 공유
  - 매체/소셜미디어 대응

### Liaison
- **책임**: 외부 팀/조직과의 연락 및 협업 조율
- **주요 업무**:
  - 클라우드 제공업체와의 연락
  - CDN/네트워크 제공업체와의 협업
  - 보안팀과의 연락
  - 법무팀과의 협업

### Scribe
- **책임**: 인시던트 타임라인 및 활동 기록
- **주요 업무**:
  - 인시던트 타임라인 작성
  - 모든 활동 및 결정사항 기록
  - 증거 수집 및 보관
  - 포스트모템 자료 준비

## 🔄 온콜 로테이션 체계

### 주간 온콜 로테이션
- **기간**: 월요일 오전 9시 ~ 다음 월요일 오전 9시
- **시간대**: 한국 시간 (Asia/Seoul)
- **핸드오버**: 매주 월요일 오전 9시

### 4단계 온콜 체계
1. **1차 온콜 (Primary)**: 주요 담당자, 24/7 대기
2. **2차 온콜 (Secondary)**: 백업 담당자, 24/7 대기
3. **3차 온콜 (Tertiary)**: 팀 리드, 24/7 대기
4. **4차 온콜 (Executive)**: 경영진, 24/7 대기

### 자동 에스컬레이션
- **Sev0**: 즉시 3차 온콜(팀 리드) 알림
- **Sev1 15분 미해결**: 2차 온콜 알림
- **Sev1 30분 미해결**: 3차 온콜(팀 리드) 알림
- **Sev0/1 1시간 미해결**: 4차 온콜(경영진) 알림

## 📊 인시던트 메트릭 및 KPI

### 주요 메트릭
- **MTTD (Mean Time To Detection)**: 인시던트 발생부터 감지까지의 평균 시간
- **MTTR (Mean Time To Resolution)**: 인시던트 감지부터 해결까지의 평균 시간
- **MTBF (Mean Time Between Failures)**: 인시던트 간 평균 간격
- **재발률**: 동일한 원인으로 재발한 인시던트 비율

### 목표 및 현황
| 메트릭 | 목표 | 현재 | 개선 계획 |
|--------|------|------|-----------|
| MTTD | Sev0: 1분, Sev1: 5분 | {{현재값}} | {{계획}} |
| MTTR | Sev0: 15분, Sev1: 30분 | {{현재값}} | {{계획}} |
| MTBF | 월 1회 미만 | {{현재값}} | {{계획}} |
| 재발률 | 10% 미만 | {{현재값}} | {{계획}} |

## 🛠️ 도구 및 자동화

### 모니터링 도구
- **Prometheus + Grafana**: 메트릭 수집 및 시각화
- **AlertManager**: 알림 라우팅 및 그룹핑
- **Slack**: 팀 커뮤니케이션 및 알림
- **PagerDuty**: 온콜 스케줄링 및 에스컬레이션

### 자동화 스크립트
- **온콜 핸드오버 봇**: 자동 온콜 인수인계 알림
- **에스컬레이션 봇**: 자동 에스컬레이션 실행
- **온콜 성과 봇**: 온콜 성과 자동 측정 및 보고
- **복구 스크립트**: 일반적인 문제 자동 복구

## 📚 교육 및 훈련

### 온콜 입문 교육
- **대상**: 온콜 시작 전 모든 팀원
- **내용**: 온콜 절차, 도구 사용법, 일반적인 문제 해결
- **기간**: 4시간
- **평가**: 온콜 시작 전 필수 이수

### 정기 온콜 훈련
- **대상**: 전체 SRE 팀
- **내용**: 새로운 도구 및 절차, 최근 인시던트 사례 연구
- **기간**: 분기별 2시간
- **형식**: 테이블톱 연습, 시뮬레이션, 역할극

### 고급 온콜 훈련
- **대상**: 팀 리드 및 시니어 엔지니어
- **내용**: 복잡한 인시던트 대응, 팀 리더십, 의사결정
- **기간**: 연 1회 8시간
- **형식**: 실제 시스템을 이용한 시뮬레이션

## 🔄 지속적 개선

### 주간 리뷰
- **인시던트 통계**: 빈도, 지속시간, 유형별 분석
- **대응 과정**: 절차 준수도, 개선점 식별
- **도구 및 자동화**: 효율성 개선 방안 검토
- **팀 역량**: 교육 필요사항 및 훈련 계획

### 월간 리뷰
- **트렌드 분석**: 인시던트 패턴 및 원인 분석
- **정책 검토**: 인시던트 관리 정책 개정 필요사항
- **예산 및 리소스**: 인시던트 대응 비용 및 리소스 할당
- **벤치마킹**: 업계 모범사례 및 개선 방안

### 분기별 훈련
- **테이블톱 연습**: 시나리오 기반 인시던트 대응 훈련
- **실제 시스템 시뮬레이션**: 실제 환경에서의 대응 훈련
- **역할극**: 다양한 역할별 대응 훈련
- **성과 평가**: 훈련 결과 및 개선점 평가

## 📞 연락처 및 참고 자료

### 핵심 연락처
- **SRE 온콜**: @game-sre-oncall
- **팀 리드**: @game-sre-lead
- **CTO**: @cto
- **고객 지원**: @customer-support-lead

### 유용한 링크
- **게임 서비스 대시보드**: https://grafana.game-sre.com
- **상태페이지**: https://status.game-service.com
- **인시던트 관리 시스템**: https://incidents.game-sre.com
- **런북**: https://runbooks.game-sre.com

### 참고 문서
- **인시던트 관리 정책**: `incident-management-policy.yaml`
- **인시던트 대응 플레이북**: `incident-response-playbook.md`
- **포스트모템 템플릿**: `postmortem-template.md`
- **온콜 에스컬레이션 정책**: `oncall-escalation-policy.yaml`

## 🚀 빠른 시작

### 1. 인시던트 발생 시
```bash
# 즉시 인시던트 채널에 선언
/invite @game-sre-oncall @game-ops-lead @game-dev-lead

🚨 INCIDENT DECLARED 🚨
서비스: {{서비스명}}
심각도: {{Sev0/1/2/3}}
영향: {{영향 범위}}
발견자: {{@사용자명}}
```

### 2. 대응팀 구성
- [ ] **Incident Commander (IC)** 선임
- [ ] **Operations Lead** 선임
- [ ] **Communications Lead** 선임
- [ ] **Scribe** 선임

### 3. 상황 파악 및 대응
- [ ] 시스템 상태 점검
- [ ] 영향 범위 평가
- [ ] 복구 계획 수립
- [ ] 스테이크홀더 통지

### 4. 포스트모템 진행
- [ ] 인시던트 해결 후 48시간 내
- [ ] 근본 원인 분석
- [ ] 교훈 및 개선점 정리
- [ ] 액션 아이템 추적

## 📋 체크리스트

### 인시던트 대응 준비도
- [ ] 온콜 로테이션 활성화
- [ ] 에스컬레이션 정책 설정
- [ ] 도구 및 자동화 구성
- [ ] 팀원 교육 완료
- [ ] 정책 및 절차 문서화

### 정기 점검 항목
- [ ] 주간 인시던트 통계 분석
- [ ] 월간 정책 및 절차 검토
- [ ] 분기별 훈련 및 교육 진행
- [ ] 연간 개선 계획 수립 및 실행

---

**문서 버전**: `v1.0`
**최종 수정일**: `{{YYYY-MM-DD}}`
**문서 소유자**: `{{@사용자명}}`
**검토 주기**: `분기별`
